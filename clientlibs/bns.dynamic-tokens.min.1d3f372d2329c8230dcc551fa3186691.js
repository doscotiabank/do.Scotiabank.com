!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selector=".dynamic-token",e.syntax={symbolStart:"[",symbolEnd:"]"},e.tokens={prime_rate:{api:"gicRates",name:"prime",prop:"rate",array:{key:"data",index:0},format:{type:"rateMed",showSymbol:!0}},prime_rate_date:{api:"gicRates",name:"prime",prop:"date",array:{key:"data",index:0},format:{type:"date"}},bank_of_canada_rate:{api:"gicRates",name:"base",prop:"rate",array:{key:"data",index:0},format:{type:"rateMed",showSymbol:!0}},bank_of_canada_rate_date:{api:"gicRates",name:"base",prop:"date",array:{key:"data",index:0},format:{type:"date"}},cad_bns_rate:{api:"gicRates",name:"base",prop:"rate",array:{key:"data",index:1},format:{type:"rateMed",showSymbol:!0}},cad_bns_rate_date:{api:"gicRates",name:"base",prop:"date",array:{key:"data",index:1},format:{type:"date"}},usd_bns_rate:{api:"gicRates",name:"base",prop:"rate",array:{key:"data",index:2},format:{type:"rateMed",showSymbol:!0}},usd_bns_rate_date:{api:"gicRates",name:"base",prop:"date",array:{key:"data",index:2},format:{type:"date"}},usd_fed_rate:{api:"gicRates",name:"base",prop:"rate",array:{key:"data",index:3},format:{type:"rateMed",showSymbol:!0}},usd_fed_rate_date:{api:"gicRates",name:"base",prop:"date",array:{key:"data",index:3},format:{type:"date"}}}},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(10)),n(r(11)),n(r(12))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.isValidToken=function(t){return n.tokens[t]},e.getTokenName=function(t){return t.innerText.trim().replace(n.syntax.symbolStart,"").replace(n.syntax.symbolEnd,"")},e.getValidTokens=function(t){var e=[];if(t&&t.length>0){for(var r=0;r<t.length;r++){var a=t[r];n.tokens[a]&&e.push(a)}return e.length>0&&e}return!1}},function(t,e,r){t.exports=r(4)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),a=r(0),o=r(7),i=r(2),s="publish"===document.querySelector("html").getAttribute("data-wcmmode");if(n.exists(a.selector)&&s)for(var c=document.querySelectorAll(a.selector),u=0;u<c.length;u++){var l=c[u],d=i.getTokenName(l);i.isValidToken(d)&&new o.default(l)}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(6);e.exists=function(t){return!!document.querySelector(t)},e.unwrap=function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)},e.hasChildren=function(t){return t.children.length>0},e.getAttributesFromElement=function(t,e,r){void 0===r&&(r="data");for(var n={},o=Object.keys(e),i=0;i<t.attributes.length;i++){var s=t.attributes[i],c=s.textContent;if(s.nodeName.indexOf(r)>-1)for(var u=0;i<o.length;u++){var l=o[u],d=a.default.toCamel(s.nodeName.replace(r+"-",""));d===l&&(isNaN(c)||(c=parseInt(c)),"true"===c&&(c=!0),"false"===c&&(c=!1),"json"===d&&(c=JSON.parse(c)),n[d]=c)}}return n},e.getAttributes=function(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)&&e.includes(n)){var a=t[n];isNaN(a)||(a=parseInt(a)),"true"===a&&(a=!0),"false"===a&&(a=!1),"json"===n&&(a=JSON.parse(a)),r[n]=a}return r},e.mapAttributesToProps=function(t,r){if(t&&r){var a=e.getAttributes(t.dataset,Object.keys(r));return a?n(n({},r),a):r}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return e.indexOf(t)>-1};e.default={isNumber:function(t){return/^\d+$/.test(t)},isSelector:function(t){return n(".",t)||n("#",t)},isPercent:function(t){return n("%",t)},isPx:function(t){return n("px",t)},toCamel:function(t){return t.replace(/[-_]([a-z])/g,(function(t){return t[1].toUpperCase()}))},toDash:function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))},toUnderscore:function(t){return t.replace(/([A-Z])/g,(function(t){return"_"+t.toLowerCase()}))},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},decapitalize:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},isJSON:function(t){try{return JSON.parse(t)&&!!t}catch(t){return!1}},random:function(t){t||(t=12);for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8),a=r(9),o=r(1),i=r(13),s=r(0),c=r(2),u=(r(15).polyfill(),function(){function t(t){this.element=t,this.tokenName=c.getTokenName(t),this.config=s.tokens[this.tokenName],this.config&&this.apiExists()&&this.render()}return t.prototype.apiExists=function(){return void 0!==o.api[this.config.api]&&void 0!==o.api[this.config.api][this.config.name]},t.prototype.getApi=function(){return o.api[this.config.api][this.config.name]},t.prototype.formatValue=function(t,e){var r=e.type;return"date"===e.type?(a.locale(o.config.locale),a(t).format(o.config.ratesDateFormat)):i.default[r](t,e.showSymbol)},t.prototype.render=function(){var t=this;n.default.get(this.getApi().url).then((function(e){var r=e.data[t.config.array.key][t.config.array.index][t.getApi().propKey[t.config.prop]];r&&(t.config.format&&(r=t.formatValue(r,t.config.format)),t.element.innerHTML=r)}))},t}());e.default=u},function(t,e){t.exports=axios},function(t,e){t.exports=moment},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return window.location.href.indexOf("localhost")>-1},a=function(t){return n()?"/etc/designs/bns/data/"+t+".json":"https://dmtsms.scotiabank.com/"+t};e.api={url:function(t){return n()?t.replace("https","http"):t},fxRates:{url:"https://dmtsms.scotiabank.com/rates/fxr/getRates",propKey:{date:"EFFECTIVE_DATE",currency:"CURRENCY_CODE",buy:"CLIENT_BUY",sell:"CLIENT_SELL"}},mortgageRates:{variable:{url:"https://dmtsms.scotiabank.com/api/rates/daily/varmortgage",propKey:{date:"run_date",product:"PRODUCT",rate:"RATE",todaysRate:"todaysRate",postedRate:"postedRate",name:"name",link:"link",footnote:"footnote"}},standard:{url:"https://dmtsms.scotiabank.com/api/rates/daily/nonspecialmortgage",propKey:{date:"run_date",product:"PRODUCT",rate:"RATE",terms:"TERMS",termsValue:"TERM_VALUE",termsUnit:"TERM_UNIT",sort:"sort_"}},closedTermFixed:{url:"https://dmtsms.scotiabank.com/api/rates/daily/varmortgage",propKey:{date:"run_date",product:"PRODUCT",rate:"RATE"}}},d2dRates:{momentumSavings:{url:"https://dmtsms.scotiabank.com/api/rates/daily/momsaving",propKey:{date:"run_date",tier:"TIER",regRate:"REGULAR_RATE",bonusRate:"BONUS_RATE",totalRate:"TOTAL_RATE"}},momentumPlusSavings:{url:"https://dmtsms.scotiabank.com/api/rates/daily/mompsaving",propKey:{date:"update_time",label:"LABEL",rate:"RATE"}},nonSpecializedAccountRates:{url:"https://dmtsms.scotiabank.com/api/rates/daily/nonspecialaccountnew",propKey:{date:"run_date",product:"PRODUCT",sort:"sort_",tier:"TIER",rate:"RATE",low:"LOW",high:"HIGH"}}},gicRates:{base:{url:"https://dmtsms.scotiabank.com/api/rates/daily/benchmark",propKey:{label:"LABEL",rate:"RATE",date:"DATE"}},prime:{url:"https://dmtsms.scotiabank.com/api/rates/daily/prime",propKey:{rate:"PRIME_RATE",date:"CHANGED_DATE"}},stnr:{url:"https://dmtsms.scotiabank.com/api/rates/daily/snonredeemable",propKey:{min:"TERM_LENGTH_MIN",max:"TERM_LENGTH_MAX",time:"TERM_TIME_UNIT",rate:"RATE",date:"nextbusdate"}},ltnr:{url:"https://dmtsms.scotiabank.com/api/rates/daily/lnonredeemgic",propKey:{termLength:"TERM_LENGTH",annualRate:"ANNUAL_RATE",semiRate:"SEMIANNUAL_RATE",monthlyRate:"MONTHLY_RATE",time:"TERM_TIME_UNIT",date:"nextbusdate"}},cashable:{url:"https://dmtsms.scotiabank.com/api/rates/daily/cashablegic",propKey:{termLength:"TERM_LENGTH",termTimeUnit:"TERM_TIME_UNIT",rate:"RATE",date:"nextbusdate"}},guaranteedIncome:{url:"https://dmtsms.scotiabank.com/api/rates/daily/gio",propKey:{termLength:"TERM_LENGTH",termTimeUnit:"TERM_TIME_UNIT",rate:"RATE",date:"nextbusdate"}},special:{url:"https://dmtsms.scotiabank.com/api/rates/daily/specialgic",propKey:{termLength:"TERM_LENGTH",termTimeUnit:"TERM_TIME_UNIT",rate:"RATE",date:"run_date",engDesc:"ENGLISH_DESC",frDesc:"FRENCH_DESC"}},ipgic:{current:{url:"https://dmtsms.scotiabank.com/api/rates/daily/ipgicc",productsUrl:"https://dmtsms.scotiabank.com/api/rates/daily/ipgicc2",propKey:{date:"run_date",product:"PRODUCT",term:"TERM",issueDate:"ISSUE_DATE",initialValue:"INITIAL_VALUE",currentValue:"CURRENT_VALUE",changeValue:"CHANGE_VALUE",max:"MAX",min:"MIN",matDate:"MATURITY_DATE",cumulativeMin:"FULLTERM_MIN"}},matured:{url:"https://dmtsms.scotiabank.com/api/rates/daily/ipgicm",productsUrl:"https://dmtsms.scotiabank.com/api/rates/daily/ipgicm2",propKey:{date:"run_date",product:"PRODUCT",term:"TERM",issueDate:"ISSUE_DATE",matDate:"MATURITY_DATE",max:"MAX",min:"MIN",initialValue:"INITIAL_VALUE",matValue:"MATURITY_VALUE",changeRate:"CHANGE RATE",actualReturn:"ACTUAL_RETURN",cumulativeMin:"FULLTERM_MIN"}}},marketLinked:{url:a("api/rates/daily/mlgic"),propKey:{date:"nextbusdate",updated:"update_time",type:"PRODUCT_TYPE",records:"RECORDS",product:"PRODUCT",term:"TERM",startDate:"START_DATE",endDate:"END_DATE",intRate:"INTERIM_RATE",maxRate:"MAX_RATE",minRate:"MIN_RATE",partRate:"PARTICIPATION_RATE",minSecondary:"MIN_SECONDARY",currIssues:"CURRENT_ISSUES",matIssues:"MATURED_ISSUES",fullTerm:"FULLTERM_MIN"}}},epgic:{growth:{current:{url:"https://dmtsms.scotiabank.com/api/rates/daily/epgrc"},matured:{url:"https://dmtsms.scotiabank.com/api/rates/daily/epgrm"}},guaranteedIncome:{current:{url:"https://dmtsms.scotiabank.com/api/rates/daily/epgrc",propKey:{date:"run_date",product:"PRODUCT",term:"TERM",issueDate:"ISSUE_DATE",initialValue:"INITIAL_VALUE",currentValue:"CURRENT_VALUE",changeValue:"CHANGE_VALUE",min:"MIN",max:"MAX",maturityDate:"MATURITY_DATE"}},matured:{url:"https://dmtsms.scotiabank.com/api/rates/daily/epgrm",propKey:{date:"run_date",product:"PRODUCT",term:"TERM",issueDate:"ISSUE_DATE",maturityDate:"MATURITY_DATE",initialValue:"INITIAL_VALUE",maturityValue:"MATURITY_VALUE",maturityRate:"MATURITY_RATE",min:"MIN",max:"MAX",actualReturn:"ACTUAL_RETURN"}}},income:{current:{url:"https://dmtsms.scotiabank.com/api/rates/daily/epcic"},matured:{url:"https://dmtsms.scotiabank.com/api/rates/daily/epcim"}}},mutualFunds:{usdExchangeRates:{url:"https://dmtsms.scotiabank.com/api/rates/mfr/us",propKey:{date:"effective_date",buyRate:"BUY_RATE",sellRate:"SELL_RATE"}},priceTablesRates:{url:a("api/rates/mfr/ca"),propKey:{effectiveDate:"effective_date",fundCode:"FUND_CODE",fundName:"FUND_NAME",price:"PRICE",changeValue:"CHANGE_VALUE",yield:"YIELD"}},fundFacts:{url:"https://dmtsms.scotiabank.com/api/rates/mfr/ff"},ratesofReturn:{url:a("api/rates/mfr/ror"),propKey:{date:"update_time",priceDate:"effective_date",fundCode:"CODE",returnOneMonth:"RETURN_1_MONTH",returnThreeMonth:"RETURN_3_MONTH",returnSixMonth:"RETURN_6_MONTH",returnOneYear:"RETURN_1_YEAR",returnThreeYear:"RETURN_3_YEAR",returnFiveYear:"RETURN_5_YEAR",returnTenYear:"RETURN_10_YEAR",returnAllTime:"RETURN_ALLTIME",yield:"CURRENT_YIELD",inceptDate:"INCEPT_DATE",ytd:"YTD",funds:"FUNDS"}},monthlyDistribution:{url:a("api/rates/mfr/dist"),propKey:{code:"CODE",years:"YEARS",year:"YEAR",total:"TOTAL"}},annualDistributions:{url:"https://dmtsms.scotiabank.com/api/rates/mfr/dist"}},accountRates:{businessAccountRates:{url:"https://dmtsms.scotiabank.com/api/rates/daily/businessaccount",propKey:{date:"nextbusdate",rateCAD:"RATE_CAD",rateUSD:"RATE_USD",sort:"sort_",tierLabel:"TIER_LABEL"}},businessRightSize:{url:"https://dmtsms.scotiabank.com/api/rates/daily/businessrightsize",propKey:{date:"nextbusdate",tierMin:"TIER_MIN",tierMax:"TIER_MAX",rate:"RATE"}}},pressRelease:{en:{url:"https://scotiabank.investorroom.com/api/newsfeed_releases/list.php?format=json",detailsUrl:"https://scotiabank.investorroom.com/api/newsfeed_releases/get.php?format=json&safehtml=yes&id=",propKey:{id:"id",headLine:"headline",released:"released",releaseDate:"releaseDate",modifiedDate:"modifiedDate",matchingCount:"matching_count",contact:"contact",body:"body"}},fr:{url:"https://scotiabank-fr.investorroom.com/api/newsfeed_releases/list.php?format=json",detailsUrl:"https://scotiabank-fr.investorroom.com/api/newsfeed_releases/get.php?format=json&safehtml=yes&id=",propKey:{id:"id",headLine:"headline",released:"released",releaseDate:"releaseDate",modifiedDate:"modifiedDate",matchingCount:"matching_count",contact:"contact",body:"body"}},es:{url:"https://scotiabank-es.investorroom.com/api/newsfeed_releases/list.php?format=json",detailsUrl:"https://scotiabank-es.investorroom.com/api/newsfeed_releases/get.php?format=json&safehtml=yes&id=",propKey:{id:"id",headLine:"headline",released:"released",releaseDate:"released",modifiedDate:"modifiedDate",matchingCount:"matching_count",contact:"contact",body:"body"}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={language:"en",locale:"en_ca",wcmmode:"author",dateFormat:{base:{en:"YYYY-M-D",fr:"YYYY-M-D"},rates:{en:"MMMM D, YYYY",fr:"D MMMM YYYY",es:"MMMM D, YYYY"},inceptDate:{en:"MMM YYYY",fr:"MMMM YYYY"},funds:{en:"dddd, MMMM D, YYYY",fr:"D MMMM YYYY"}}},a="lang",o="data-locale",i="data-wcmmode",s=document.querySelector("html"),c="scotiabank.com",u="/etc/designs/bns",l=s.getAttribute(a)||n.language,d=s.getAttribute(o)?s.getAttribute(o).replace("-","_"):n.locale,p=s.getAttribute(i)||n.wcmmode,m=window.location.hostname===c||window.location.hostname==="www."+c;e.config={namespace:"bns",domain:c,cookieDomain:!!m&&""+window.location.hostname,language:l,locale:d,wcmmode:p,isProd:m,defaultDateFormat:n.dateFormat.base[l],ratesDateFormat:n.dateFormat.rates[l],fundsDateFormat:n.dateFormat.funds[l],inceptDateFormat:n.dateFormat.inceptDate[l],renderDelay:500,path:{js:u+"/js",css:u+"/css",img:u+"/img",fonts:u+"/fonts"}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locales={en_ca:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:0},currencyReg:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2},currencyMed:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:3},currencyLong:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:4},float:{precision:6,thousand:",",decimal:"."},rate:{precision:2,thousand:",",decimal:".",percent:"%"},rateMed:{precision:3,thousand:",",decimal:".",percent:"%"},rateLong:{precision:4,thousand:",",decimal:".",percent:"%"},points:{precision:0,thousand:",",decimal:"."},time:{D:"days",M:"months",Y:"years"},timeUnit:{D:"day",M:"month",Y:"year"},currencyNoFormat:{symbol:"$",format:"%s%v",precision:2},currencyNoSymbol:{symbol:"",format:"%s%v",thousand:",",precision:0}},fr_ca:{currency:{symbol:"$",format:"%v %s",decimal:",",thousand:" ",precision:0},currencyReg:{symbol:"$",format:"%v %s",decimal:",",thousand:" ",precision:2},currencyMed:{symbol:"$",format:"%v %s",decimal:".",thousand:",",precision:3},float:{precision:6,thousand:" ",decimal:","},rate:{precision:2,thousand:" ",decimal:",",percent:" %"},rateMed:{precision:3,thousand:" ",decimal:",",percent:" %"},rateLong:{precision:4,thousand:" ",decimal:",",percent:" %"},points:{precision:0,thousand:" ",decimal:","},time:{D:"jours",M:"mois",Y:"ans"},timeUnit:{D:"jour",M:"mois",Y:"an"},currencyLong:{symbol:"$",format:"%v %s",decimal:",",thousand:" ",precision:4},currencyNoFormat:{symbol:"$",format:"%v %s",decimal:",",precision:2},currencyNoSymbol:{symbol:"",format:"%v %s",thousand:" ",precision:0}},es_mx:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:0},float:{precision:6,thousand:",",decimal:"."},rate:{precision:2,thousand:",",decimal:".",percent:"%"},points:{precision:0,thousand:",",decimal:"."}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(14),a=r(1),o=a.locales[a.config.locale];e.default={currency:function(t){var e=parseFloat(t);return n.formatMoney(e,o.currency)},currencyNoFormat:function(t){var e=parseFloat(t);return n.formatMoney(e,o.currencyNoFormat)},currencyNoSymbol:function(t){var e=parseFloat(t);return n.formatMoney(e,o.currencyNoSymbol)},currencyReg:function(t){var e=parseFloat(t);return n.formatMoney(e,o.currencyReg)},currencyMed:function(t){var e=parseFloat(t);return n.formatMoney(e,o.currencyMed)},currencyLong:function(t){var e=parseFloat(t);return n.formatMoney(e,o.currencyLong)},float:function(t){var e=parseFloat(t);return n.formatNumber(e,o.float)},rate:function(t,e){var r=parseFloat(t);return n.formatNumber(r,o.rate)+(e?o.rate.percent:"")},rateMed:function(t,e){var r=parseFloat(t);return n.formatNumber(r,o.rateMed)+(e?o.rate.percent:"")},rateLong:function(t,e){var r=parseFloat(t);return n.formatNumber(r,o.rateLong)+(e?o.rate.percent:"")},points:function(t){var e=parseFloat(t);return n.formatNumber(e,o.points)}}},function(t,e){t.exports=accounting},function(t,e,r){(function(e,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=0,o=void 0,i=void 0,s=function(t,e){f[a]=t,f[a+1]=e,2===(a+=2)&&(i?i(h):v())},c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function m(){var t=setTimeout;return function(){return t(h,1)}}var f=new Array(1e3);function h(){for(var t=0;t<a;t+=2)(0,f[t])(f[t+1]),f[t]=void 0,f[t+1]=void 0;a=0}var y,_,b,T,v=void 0;function g(t,e){var r=this,n=new this.constructor(A);void 0===n[R]&&Y(n);var a=r._state;if(a){var o=arguments[a-1];s((function(){return I(a,n,o,r._result)}))}else L(r,n,t,e);return n}function E(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(A);return N(e,t),e}d?v=function(){return e.nextTick(h)}:l?(_=0,b=new l(h),T=document.createTextNode(""),b.observe(T,{characterData:!0}),v=function(){T.data=_=++_%2}):p?((y=new MessageChannel).port1.onmessage=h,v=function(){return y.port2.postMessage(0)}):v=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(h)}:m()}catch(t){return m()}}():m();var R=Math.random().toString(36).substring(2);function A(){}function M(e,r,n){r.constructor===e.constructor&&n===g&&r.constructor.resolve===E?function(t,e){1===e._state?w(t,e._result):2===e._state?U(t,e._result):L(e,void 0,(function(e){return N(t,e)}),(function(e){return U(t,e)}))}(e,r):void 0===n?w(e,r):t(n)?function(t,e,r){s((function(t){var n=!1,a=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,(function(r){n||(n=!0,e!==r?N(t,r):w(t,r))}),(function(e){n||(n=!0,U(t,e))}),t._label);!n&&a&&(n=!0,U(t,a))}),t)}(e,r,n):w(e,r)}function N(t,e){if(t===e)U(t,new TypeError("You cannot resolve a promise with itself"));else if(a=typeof(n=e),null===n||"object"!==a&&"function"!==a)w(t,e);else{var r=void 0;try{r=e.then}catch(e){return void U(t,e)}M(t,e,r)}var n,a}function D(t){t._onerror&&t._onerror(t._result),k(t)}function w(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(k,t))}function U(t,e){void 0===t._state&&(t._state=2,t._result=e,s(D,t))}function L(t,e,r,n){var a=t._subscribers,o=a.length;t._onerror=null,a[o]=e,a[o+1]=r,a[o+2]=n,0===o&&t._state&&s(k,t)}function k(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,a=void 0,o=t._result,i=0;i<e.length;i+=3)n=e[i],a=e[i+r],n?I(r,n,a,o):a(o);t._subscribers.length=0}}function I(e,r,n,a){var o=t(n),i=void 0,s=void 0,c=!0;if(o){try{i=n(a)}catch(t){c=!1,s=t}if(r===i)return void U(r,new TypeError("A promises callback cannot return that same promise."))}else i=a;void 0!==r._state||(o&&c?N(r,i):!1===c?U(r,s):1===e?w(r,i):2===e&&U(r,i))}var S=0;function Y(t){t[R]=S++,t._state=void 0,t._result=void 0,t._subscribers=[]}var O=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(A),this.promise[R]||Y(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&w(this.promise,this._result))):U(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===E){var a=void 0,o=void 0,i=!1;try{a=t.then}catch(t){i=!0,o=t}if(a===g&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof a)this._remaining--,this._result[e]=t;else if(r===x){var s=new r(A);i?U(s,o):M(s,t,a),this._willSettleAt(s,e)}else this._willSettleAt(new r((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;void 0===n._state&&(this._remaining--,2===t?U(n,r):this._result[e]=r),0===this._remaining&&w(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;L(t,void 0,(function(t){return r._settledAt(1,e,t)}),(function(t){return r._settledAt(2,e,t)}))},t}(),x=function(){function e(t){this[R]=S++,this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){N(t,e)}),(function(e){U(t,e)}))}catch(e){U(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return x.prototype.then=g,x.all=function(t){return new O(this,t).promise},x.race=function(t){var e=this;return n(t)?new e((function(r,n){for(var a=t.length,o=0;o<a;o++)e.resolve(t[o]).then(r,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},x.resolve=E,x.reject=function(t){var e=new this(A);return U(e,t),e},x._setScheduler=function(t){i=t},x._setAsap=function(t){s=t},x._asap=s,x.polyfill=function(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=x},x.Promise=x,x},t.exports=n()}).call(this,r(16),r(17))},function(t,e){var r,n,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&m())}function m(){if(!l){var t=s(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++d<e;)c&&c[d].run();d=-1,e=u.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function h(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||s(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r}]);