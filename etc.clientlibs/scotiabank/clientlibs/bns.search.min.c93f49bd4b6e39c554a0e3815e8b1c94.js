!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.api=t.queryTerm=void 0,t.queryTerm=function(){var e,t,n,r=document.querySelector("#header__search"),a=document.querySelector("#header__search_mobile"),i=document.querySelector("#header"),s=document.querySelector(".brand3-header");r&&(t=window.getComputedStyle(r)),a&&(n=window.getComputedStyle(a));var o=!(!t||"visible"!==t.visibility);return r&&(i?o?e=r.value:a&&(e=a.value):s?o&&"visible"!==n.visibility?e=r.value:(o&&"visible"===n.visibility||a)&&(e=a.value):e=r.value),e},t.api=function(){return{url:"https://cdb-search-platform-api.scotiabank.com/search?per_page=10&hlEnabled=false&hlFragsize=150"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayResults=void 0;var r=n(10),a=n(17),i=n(6);t.displayResults=function(e,t,n,s){var o=document.querySelector("#search-result");o.innerHTML="";var u=e.articles,c=e.didYouMean,l=e.resultCount,d=document.getElementById("main"),f=document.getElementById("search-result"),p=document.querySelector(".mav"),v=Math.ceil(l/10);if(u.length>0){d&&(d.style.display="none"),f&&(f.style.display="block");var h=String(10*s-9),m=String(10*s<l?10*s:l),y=o.dataset.searchDisLabel;y=(y=(y=y.replace("{s}",h)).replace("{e}",m)).replace("{t}",l),p&&p.classList.contains("in")&&(p.classList.add("out"),p.classList.remove("in"),p.classList.remove("active"));var b='<div class="sr--summary">\n            <div class="s--term">\n                <div class="container">\n                    <h1>'+i(o.dataset.searchResults)+" "+i(n)+'</h1>\n                </div>\n            </div>\n            <div class="container">\n                <h2 class="s--pagination"><span clas="norm">'+i(y)+"</span></h2>\n            </div>\n        </div>";o.innerHTML+=b;var g='<div class="container"><ul class="sr--items">\n        '+e.articles.map((function(e){return'<li class="sr--item">\n                <a href='+i(e.url)+'>\n                <h5 class="i--title">'+i(e.title)+'</h5></a>\n                <p class="i--summary">'+i(e.description)+"</p>\n            </li>"})).join("")+"</ul>\n        </div>";o.innerHTML+=g;var S=document.querySelectorAll(".sr--items .sr--item a")[0];S&&S.focus(),t&&a.paginateSearch(l,v);for(var _=document.querySelectorAll(".sr--items .sr--item a"),O=function(e){var t=_[e];t.addEventListener("click",(function(){var a=t.parentElement.getElementsByClassName("i--title")[0].innerHTML,i=10*(s-1)+(e+1);r.triggerSearchClickAnalyticsPush(n,l,t.href,a,i)}))},w=0;w<_.length;w++)O(w)}else if(!u.length&&n){d&&(d.style.display="none"),f&&(f.style.display="block"),p&&p.classList.contains("in")&&(p.classList.add("out"),p.classList.remove("in"),p.classList.remove("active"));var P='<div class="sr--summary">\n        <div class="s--term">\n            <div class="container">\n                <p>\n                    <p class="mb-1">'+i(o.dataset.searchNotFound)+"</p>\n                    "+("object"!=typeof c?"<b>"+i(o.dataset.searchQues)+"  <a>"+i(c)+"</a>?</b>":"")+'\n                </p>\n            </div>\n        </div>\n        <div class="container">\n            <p class="s--pagination"></p>\n        </div>\n     </div>';o.innerHTML+=P}else d&&(d.style.display="block"),f&&(f.style.display="none;")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return t.indexOf(e)>-1};t.default={isNumber:function(e){return/^\d+$/.test(e)},isSelector:function(e){return r(".",e)||r("#",e)},isPercent:function(e){return r("%",e)},isPx:function(e){return r("px",e)},toCamel:function(e){return e.replace(/[-_]([a-z])/g,(function(e){return e[1].toUpperCase()}))},toDash:function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},toUnderscore:function(e){return e.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},decapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},isJSON:function(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}},random:function(e){e||(e=12);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},generateID:function(e){return(e?e+"_":"")+Math.random().toString(32).substr(2,20)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerSearchClickAnalyticsPush=t.triggerSearchAnalyticsPush=void 0,t.triggerSearchAnalyticsPush=function(e,t,n){window.appEventData.push({event:"datalayer.search",searchResults:{searchTerm:e,numOfResults:t,source:n},site:window.appEventData[0].site,page:window.appEventData[0].page,user:window.appEventData[0].user})},t.triggerSearchClickAnalyticsPush=function(e,t,n,r,a){window.appEventData.push({event:"datalayer.search.click",searchResults:{searchTerm:e,numOfResults:t},click:{href:n,resultName:r,resultRank:a}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryResults=void 0;var r=n(0);t.queryResults=function(e){return new Promise((function(t,n){var a,i=r.queryTerm(),s=document.querySelector("#search_source");s&&(a=s.dataset.source);var o=r.api().url,u="&query="+i+"&page="+e,c=null,l={data:"",searchQuery:i};if(!c){var d="ActiveXObject"in window&&"file:"===location.protocol;if("XMLHttpRequest"in window&&!d)c=new XMLHttpRequest;else try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){c=null}}c&&(c.open("GET",o+u,!0),c.setRequestHeader("x-docsource",a),c.setRequestHeader("x-origin","dotcom"),c.setRequestHeader("x-refer",window.location.href),c.send(null),c.onreadystatechange=function(){4===c.readyState&&(200===c.status?(l.data=JSON.parse(c.response),t(l)):n(c.status))})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchAnalytics=void 0;var r=n(6);t.updateSearchAnalytics=function(){var e=document.querySelector("#header__search").value,t=("; "+document.cookie).split("; bns_data="),n=JSON.parse(decodeURIComponent(t.pop().split(";").shift()));n.actions.HAS_SEARCHED=!0,n.user.searchQuery=r(e),n.user.searchCount=parseInt(n.user.searchCount)+1;var a="{";for(var i in n)if(n.hasOwnProperty(i))if("object"==typeof n[i]){for(var s in a+=encodeURIComponent(JSON.stringify(i))+":{",n[i])n[i].hasOwnProperty(s)&&(a+=encodeURIComponent(JSON.stringify(s))+":"+encodeURIComponent(JSON.stringify(n[i][s]))+"%2C");a=a.substring(0,a.length-3),a+="}%2C"}else n.hasOwnProperty(i)&&(a+=encodeURIComponent(JSON.stringify(i))+":"+encodeURIComponent(JSON.stringify(n[i]))+"%2C");a=a.substring(0,a.length-3),a+="};path=/;",document.cookie="bns_data="+a+";"}},function(e,t){e.exports=sanitizeHtml},function(e,t,n){n(8),e.exports=n(19)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);window.addEventListener("load",(function(){document.getElementById("search-result").style.display="none",r.fetchResults()}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchResults=void 0;var r=n(1),a=n(4),i=n(5),s=n(0),o=n(3);t.fetchResults=function(){var e,t=document.querySelectorAll(".bns--header"),n=document.querySelectorAll(".s--submit"),u=document.querySelector(".brand3 .s--submit--icon"),c=document.getElementById("search"),l=document.querySelector(".mav__search"),d=document.querySelector(".s--close"),f=document.querySelector("#header__search"),p=document.querySelector("#nav-toggle"),v=(document.querySelector("#header__search_mobile"),document.querySelector("#search_source"));v&&(e=v.dataset.source);var h=!1;if(n)for(var m=0;m<n.length;m++)n[m].addEventListener("click",(function(e){y()}));function y(){var n=a.queryResults(1);n.then((function(n){h=!0,t.length>0&&window.innerWidth<=576&&p.click(),r.displayResults(n.data,h,s.queryTerm(),1),i.updateSearchAnalytics(),o.triggerSearchAnalyticsPush(s.queryTerm(),n.data.resultCount,e)})),n.catch((function(e){console.log("error = "+e)}))}c&&c.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),y())})),l&&l.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),y())})),u&&u.addEventListener("click",(function(e){y()})),d&&d.addEventListener("click",(function(e){f.value=""}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(11),t),a(n(12),t),a(n(13),t),a(n(2),t),a(n(14),t),a(n(15),t),a(n(3),t),a(n(16),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebkit=t.isIE11=t.mediaBreakpointOnly=t.mediaBreakpointBetween=t.mediaBreakpointUp=t.mediaBreakpointDown=t.screenSizes=void 0,t.screenSizes={xs:{min:0,max:575.98},sm:{min:576,max:767.98},md:{min:768,max:991.98},lg:{min:992,max:1199.98},xl:{min:1200,max:9999}},t.mediaBreakpointDown=function(e){return window.innerWidth<=t.screenSizes[e].max},t.mediaBreakpointUp=function(e){return innerWidth>=t.screenSizes[e].min},t.mediaBreakpointBetween=function(e,n){return innerWidth>=t.screenSizes[e].min&&innerWidth<=t.screenSizes[n].max},t.mediaBreakpointOnly=function(e){return innerWidth>=t.screenSizes[e].min&&innerWidth<=t.screenSizes[e].max},t.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,t.isWebkit=function(){return document.documentElement.className.indexOf("safari")>-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=void 0,t.guid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.mapAttributesToProps=t.getAttributes=t.getAttributesFromElement=t.hasChildren=t.unwrap=t.exists=void 0;var a=n(2);t.exists=function(e){return!!document.querySelector(e)},t.unwrap=function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},t.hasChildren=function(e){return e.children.length>0},t.getAttributesFromElement=function(e,t,n){void 0===n&&(n="data");for(var r={},i=Object.keys(t),s=0;s<e.attributes.length;s++){var o=e.attributes[s],u=o.textContent;if(o.nodeName.indexOf(n)>-1)for(var c=0;s<i.length;c++){var l=i[c],d=a.default.toCamel(o.nodeName.replace(n+"-",""));d===l&&(isNaN(u)||(u=parseInt(u)),"true"===u&&(u=!0),"false"===u&&(u=!1),"json"===d&&(u=JSON.parse(u)),r[d]=u)}}return r},t.getAttributes=function(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)&&t.includes(r)){var a=e[r];isNaN(a)||(a=parseInt(a)),"true"===a&&(a=!0),"false"===a&&(a=!1),"json"===r&&(a=JSON.parse(a)),n[r]=a}return n},t.mapAttributesToProps=function(e,n){if(e&&n){var a=t.getAttributes(e.dataset,Object.keys(n));return a?r(r({},n),a):n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=void 0,t.getCookie=function(e){var t,n;return null===(n=null===(t=document.cookie)||void 0===t?void 0:t.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))||void 0===n?void 0:n.pop()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParams=void 0,t.getUrlParams=function(e){var t,n=null===(t=null==e?void 0:e.split("?")[1])||void 0===t?void 0:t.split("#")[0],r={};if(n)for(var a=0;a<n.split("&").length;a++){var i=n.split("&")[a];r[i.split("=")[0]]=i.split("=")[1]}return r}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)r[a]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardFocusableElements=void 0,t.getKeyboardFocusableElements=function(e){void 0===e&&(e=document);var t=e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])');return r(Array.prototype.slice.call(t)).filter((function(e){return!e.hasAttribute("disabled")&&"hidden"!==getComputedStyle(e).visibility}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paginateSearch=void 0,n(18);var r=n(1),a=n(4),i=n(5),s=n(0);t.paginateSearch=function(e,t){var n=document.querySelector("#search-result"),o=[],u="disable-click",c="enable-click",l=n.dataset.searchDisPage.replace("{t}",t),d=n.dataset.searchGoToFirstPage,f=n.dataset.searchGoToPreviousPage,p=n.dataset.searchGoToNextPage,v=n.dataset.searchGoToLastPage,h=n.dataset.searchPage;var m={totalpage:5,var1:2,var2:3,var3:3,var4:4,var5:1},y={totalpage:7,var1:3,var2:5,var3:4,var4:6,var5:2};function b(){return window.innerWidth>576?y:m}function g(e,m){if(o=[],t>m.totalpage)if(e<=m.var1){for(var y=1;y<=m.var2;y++)o.push(y);o.push("");for(y=t-1;y<=t;y++)o.push(y)}else if(t-e<=m.var3)for(y=t-m.var4;y<=t;y++)o.push(y);else{for(y=e-m.var5;y<=e+m.var5;y++)o.push(y);o.push("");for(y=t-1;y<=t;y++)o.push(y)}else for(y=1;y<=t;y++)o.push(y);var S;!function(e){u=1===e?"disable-click":"enable-click",c=e===t?"disable-click":"enable-click"}(e),function(e,r){var a='<div class="container">\n        <nav role="navigation" aria-label="Page navigation Search Results" class="mt-3">\n        <span class="sr-only">'+l+'</span>\n        <ul class="sr--pagination">\n        <li>\n        '+(1===r?"<span class="+u+' data-number="1"><<</span>':'<button aria-label="'+d+'" class='+u+' data-number="1"><<</button>')+"\n        </li>\n        <li>\n        "+(1===r?" <span class="+u+" data-number='"+(r>1?r-1:r)+"'><</span>":'<button aria-label="'+f+'" class='+u+" data-number='"+(r>1?r-1:r)+"'><</button>")+"\n        </li>\n        "+e.map((function(e){return e?"<li>"+(e===r?e:'<a href="#" aria-label="'+h+" "+e+'" data-number='+e+">"+e+"</a>")+" </li>":"<li><span>...</span></li>"})).join("")+"\n        <li>\n        "+(r===t?" <span class="+c+" data-number="+(r<t?r+1:r)+">></span> ":'<button aria-label="'+p+'" class='+c+" data-number="+(r<t?r+1:r)+">></button>")+"\n        </li>\n        <li>\n        "+(r===t?"<span class="+c+" data-number="+t+">>></span>":'<button aria-label="'+v+'" class='+c+" data-number="+t+">>></button> ")+"\n        </li>\n        </ul>\n        </nav>\n        </div>";n.insertAdjacentHTML("beforeend",a)}(o,e),(S=document.querySelector(".sr--pagination"))&&S.addEventListener("click",(function(e){e.preventDefault();var t="1",n=e.target;n&&(t=n.dataset.number),function(e){var t=a.queryResults(parseInt(e));t.then((function(t){r.displayResults(t.data,!1,s.queryTerm(),e),g(parseInt(e),b()),i.updateSearchAnalytics()})),t.catch((function(e){console.log("error = "+e)}))}(t)}))}g(1,b())}},function(e,t){Array.prototype.includes||(Array.prototype.includes=function(e){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,a,i=parseInt(arguments[1],10)||0;for(0<=i?r=i:(r=n+i)<0&&(r=0);r<n;){if(e===(a=t[r])||e!=e&&a!=a)return!0;r++}return!1})},function(e,t,n){"use strict";n.r(t),t.default="../search.css"}]);